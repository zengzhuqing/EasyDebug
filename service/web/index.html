<html lang="us"><head>	<meta charset="utf-8">    <title>jquery Filetree test</title>    <link rel="stylesheet" href="static/bootstrap.min.css">    <script src="static/jquery.min.js"></script>    <script src="static/bootstrap.min.js"></script>    <link href="static/jQueryFileTree.min.css" rel="stylesheet">    <link href="static/jq.css" rel="stylesheet">    <script src="static/jQueryFileTree.js"></script>    <style>    </style>    <script>        var gfile = "";	    $(document).ready(loadtree);            function loadtree() {	      var url = document.URL;              var pr = url.split("?id=")[1];              var listpr = pr.split("");              rootdir = "/files/0/";	              for(var i = 0; i < listpr.length; i ++) {		rootdir += listpr[i] + '/';         	}              	    $('.jft').fileTree({     		    root: rootdir,		    script: '/static/connectors/jqueryFileTree.php',		   // expandSpeed: 1000,		  //  collapseSpeed: 1000,		    //folderEvent: 'dblclick',		    multiFolder: false		 }).on('filetreeexpanded filetreecollapsed filetreeclicked', function(e, data) {	        //$("#selectedfilediv").show();		var file =data.rel;   	        gfile = "/mts/bugs" + file;                if(file[file.length-1] == '/') {                    file = file.substring(0, file.length - 1);                }		var res = file.split("/");	  });        }        function SubmitFile() {             $("#result").show();            $("#choose").hide();            $("#topheader").hide();        var action = $( "#actionSelect" ).val();        console.log(action); 	$("#filetree").removeClass('expanded').addClass('collapsed');        if(action == "loginsight") {            var url = document.URL;	    $("#goto").text("Goto Log Insight");            bz = url.split("?id=")[1];            $.ajax({                url: "http://easydebug.eng.vmware.com:5001/api/v1.0/bundle",                type: "POST",                data: "ACTION=" + action +"&BUGID=" + bz + "&FILE=" + gfile,                success: function(data) { 			console.log(data);                          var image = document.getElementById('myImage'); 		        $("#status").text("Bundle uploaded to Log Insight succesfully");                         image.src = "static/ok.png";                        },                error: function(data) { 			console.log(data);                       if(data.statusText == "OK"){	                   var image = document.getElementById('myImage'); 		        $("#status").text("Bundle uploaded to Log Insight succesfully");                         image.src = "static/ok.png"; 			} else {	                var image = document.getElementById('myImage');		       $("#status").text("Failed to upload Bundle");                       image.src = "static/fail.png"; }			}             });        }       if(action == "extract") {            var url = document.URL;	    $("#goto").text("Goto Log Insight");	    $("#status").text("Extracting the bundle...");            bz = url.split("?id=")[1];            console.log(bz);            $.ajax({                url: "http://easydebug.eng.vmware.com:5001/api/v1.0/bundle",                type: "POST",                    data: "ACTION=" + action +"&BUGID=" + bz + "&FILE=" + gfile,                success: function(data) { 			console.log(data);                          var image = document.getElementById('myImage'); 		        $("#status").text("Bundle extracted successfully");                         image.src = "static/ok.png";                        },                error: function(data) { 			console.log(data);                       if(data.statusText == "OK"){	                   var image = document.getElementById('myImage'); 		        $("#status").text("Bundle extracted successfully");                         image.src = "static/ok.png"; 			} else {	                var image = document.getElementById('myImage');		        $("#status").text("Failed to extract the bundle");                       image.src = "static/fail.png"; }			}             });        } 		if(action == "cybertron") {	    $("#status").text("Uploading to Linux CoreDump Analyzer...");	    $("#goto").text("Goto Cybertron");            var url = document.URL;            bz = url.split("?id=")[1];            console.log(bz);            $.ajax({                url: "http://cybertron.eng.vmware.com/Create_BG",                type: "POST",                data: "custom_url=" + gfile,                success: function(data) { 			console.log(data);                          var image = document.getElementById('myImage');                          image.src = "static/ok.png";                        },                error: function(data) { 			console.log(data);                       if(data.statusText == "OK"){	                   var image = document.getElementById('myImage'); 		        $("#status").text("Start task in Cybertron OK");                         image.src = "static/ok.png"; 			} else {	                var image = document.getElementById('myImage');		       $("#status").text("Failed to start task in Cybertron");                       image.src = "static/fail.png"; }			}             });        }                 if(action == "debugzilla") {            var termurl = "http://easydebug.eng.vmware.com:8022/?file=" + gfile;            window.open(termurl, "_blank");        }        if(action == "logviewer") {            var termurl = "http://easydebug.eng.vmware.com:8022/?file=" + gfile;            window.open(termurl, "_blank");        }        }        function back() {	var image = document.getElementById('myImage');         image.src = "http://jimpunk.net/Loading/wp-content/uploads/loading2.gif";	$("#status").text("Sumbitting to Log Insight...");        $("#result").hide();        $("#choose").show();        $("#topheader").show();        }        function gotologinsight() {        var action = $( "#actionSelect" ).val();        if(action == "cybertron") {	   var liurl = "http://cybertron.eng.vmware.com";           window.open(liurl, "_blank");        	}else {	 //	var url_half1 = 'https://10.160.236.181/explorer/?existingChartQuery=%7B%22query%22%3A%22%22%2C%22startTimeMillis%22%3A1436951304430%2C%22endTimeMillis%22%3A'  //      var url_half3 = '%2C%22piqlFunctionGroups%22%3A%5B%7B%22functions%22%3A%5B%7B%22label%22%3A%22Count%22%2C%22value%22%3A%22COUNT%22%2C%22requiresField%22%3Afalse%2C%22numericOnly%22%3Afalse%7D%5D%2C%22field%22%3Anull%7D%5D%2C%22dateFilterPreset%22%3A%22ALL_TIME%22%2C%22shouldGroupByTime%22%3Atrue%2C%22eventSortOrder%22%3A%22DESC%22%2C%22summarySortOrder%22%3A%22DESC%22%2C%22compareQueryOrderBy%22%3A%22TREND%22%2C%22compareQuerySortOrder%22%3A%22DESC%22%2C%22compareQueryOptions%22%3Anull%2C%22messageViewType%22%3A%22EVENTS%22%2C%22constraintToggle%22%3A%22ALL%22%2C%22piqlFunction%22%3A%7B%22label%22%3A%22Count%22%2C%22value%22%3A%22COUNT%22%2C%22requiresField%22%3Afalse%2C%22numericOnly%22%3Afalse%7D%2C%22piqlFunctionField%22%3Anull%2C%22fieldConstraints%22%3A%5B%7B%22internalName%22%3A%22text%22%2C%22operator%22%3A%22MATCH%22%2C%22value%22%3A%22WARNING%3A%20LinNet%3A%20netdev_watchdog%3A%5C%5Cd%2B%3A%20NETDEV%20WATCHDOG%3A%20vmnic%5C%5Cd%2B%3A%20transmit%20timed%22%7D%5D%2C%22supplementalConstraints%22%3A%5B%5D%2C%22groupByFields%22%3A%5B%5D%2C%22extractedFields%22%3A%5B%5D%7D&chartOptions=%7B%22logaxis%22%3Afalse%2C%22spline%22%3Afalse%7D'        var now=new Date();        var endTime = now.getTime();	        //var liurl = url_half1 + endTime + url_half3;        var liurl = "https://easydebug.eng.vmware.com/explorer/?existingChartQuery=%7B%22query%22%3A%22%22%2C%22startTimeMillis%22%3A1436951304430%2C%22endTimeMillis%22%3A1438165069279%2C%22piqlFunctionGroups%22%3A%5B%7B%22functions%22%3A%5B%7B%22label%22%3A%22Count%22%2C%22value%22%3A%22COUNT%22%2C%22requiresField%22%3Afalse%2C%22numericOnly%22%3Afalse%7D%5D%2C%22field%22%3Anull%7D%5D%2C%22dateFilterPreset%22%3A%22ALL_TIME%22%2C%22shouldGroupByTime%22%3Atrue%2C%22eventSortOrder%22%3A%22DESC%22%2C%22summarySortOrder%22%3A%22DESC%22%2C%22compareQueryOrderBy%22%3A%22TREND%22%2C%22compareQuerySortOrder%22%3A%22DESC%22%2C%22compareQueryOptions%22%3Anull%2C%22messageViewType%22%3A%22EVENTS%22%2C%22constraintToggle%22%3A%22ALL%22%2C%22piqlFunction%22%3A%7B%22label%22%3A%22Count%22%2C%22value%22%3A%22COUNT%22%2C%22requiresField%22%3Afalse%2C%22numericOnly%22%3Afalse%7D%2C%22piqlFunctionField%22%3Anull%2C%22fieldConstraints%22%3A%5B%7B%22internalName%22%3A%22text%22%2C%22operator%22%3A%22MATCH%22%2C%22value%22%3A%22WARNING%3A%20LinNet%3A%20netdev_watchdog%3A%5B0-9%5D%2B%3A%20NETDEV%20WATCHDOG%3A%20vmnic%5B0-9%5D%2B%3A%20transmit%20timed%22%7D%5D%2C%22supplementalConstraints%22%3A%5B%5D%2C%22groupByFields%22%3A%5B%5D%2C%22extractedFields%22%3A%5B%5D%7D&chartOptions=%7B%22logaxis%22%3Afalse%2C%22spline%22%3Afalse%7D"           window.open(liurl, "_blank");        } 	}        function refreshtree() {	location.reload();        }//jQuery used for simplicity$(window).scroll(function(){  $('#header-inner').toggleClass('scrolling', $(window).scrollTop() > $('#header').offset().top);  //can be rewritten long form as:  var scrollPosition, headerOffset, isScrolling;  scrollPosition = $(window).scrollTop();  headerOffset = $('#header').offset().top;  isScrolling = scrollPosition > headerOffset;  $('#header-inner').toggleClass('scrolling', isScrolling);});    </script></head><body youdao="bind"><div id="topheader" style="height: 37px;">    <div id="header">        <div id="header-inner" style="z-index:4;width: 530;" class=""> <!-- Note #1 -->         <div id="godiv">            <div class="input-group" style="">                <select  id="actionSelect" class="form-control btn-primary optfont" style="width: 475;">           	        <option class="optfont"  value="loginsight">Sent to Log Insight</option>                    <option class="optfont" value="extract">Extract the bundle</option>           	        <option class="optfont" value="logviewer">Log Viewer</option>                       <option class="optfont" value="debugzilla">Debugzilla Online</option>                    <option class="optfont" value="cybertron">Send to Linux Coredump Analyzer</option>                    <option class="optfont" value="vdiag">Send to vDiag</option>                  <option class="optfont" value="vmdt">Send to VMDT</option>               </select>                 <div class="input-group-btn">        	<button class="btn btn-success pull-right" onclick="SubmitFile()" type="button" style="width: 95px;">Go!</button>                 </div>              </div>       </div>        </div>    </div>    </div>                                   <div class="row" style="margin-right: 0px; z-index:2;">   <div id="choose" class="col-md-4 col-sm-6">       <div class="panel panel-default">         <div class="panel-heading"><a class="pull-right" onclick="refreshtree()"> Refresh</a> <h4>Select the bundle</h4></div>           <div class="panel-body">              <div class="list-group">               <div class="jft" id="filetree">              </div>           </div>         </div>       </div>      </div>  <div class="col-md-4 col-sm-6" id="result" style="display:none">      <div class="panel panel-default">         <div class="panel-heading"><h4 id="status">Sumbitting bundle to Log Insight...</h4></div>   	    <div class="panel-body">     	<div class="text-center">                 <img style="margin:auto" id="myImage" src="http://jimpunk.net/Loading/wp-content/uploads/loading2.gif" width="256" height="256">                </div>                 <hr>   		<div class="text-center">                 <button onclick="back()" type="button" class="btn btn-default">Back to Previous</button>                 <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->                 <button onclick="gotologinsight()" type="button" id="goto" class="btn  btn-primary">Go to Log Insight</button>                </div>           </div>        </div>   </div></div></body></html>